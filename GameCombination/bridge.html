<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Glass Bridge Game</title>
    <link rel="stylesheet" href="styles3.css">
</head>
<body>
    <!-- Device Detection Script -->
    <script>
        (function() {
            const isTouchDevice = ('ontouchstart' in window) || 
                                  (navigator.maxTouchPoints > 0) || 
                                  (navigator.msMaxTouchPoints > 0);
            
            if (isTouchDevice) {
                document.body.classList.add('touch-device');
            } else {
                document.body.classList.add('desktop-device');
            }
            
            // Detect mobile devices
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (isMobile) {
                document.body.classList.add('mobile-device');
            }
        })();
    </script>
    
    <!-- Hint Icon (Bulb Icon) -->
    <div class="hint-icon" id="hintIcon">
        <div class="icon">üí°</div>
        <div class="count" id="hintCount">2</div>
    </div>
    
    <!-- Sound Toggle -->
    <div class="sound-indicator" id="soundToggle"></div>
    
    <!-- Camera Toggle -->
    <div class="camera-toggle" id="cameraToggle">
        <div class="camera-icon">üì∑</div>
        <div class="camera-label" id="cameraLabel">FP</div>
    </div>
    
    <!-- Movement Visual Indicator -->
    <div class="movement-indicator">
        <div class="arrow">‚Üê</div>
        <div class="arrow">‚Üí</div>
    </div>
    
    <!-- Desktop Controls (Hidden on mobile) -->
    <div class="controls desktop-controls">
        <button id="btnLeft" aria-label="Move Left"></button>
        <button id="btnRight" aria-label="Move Right"></button>
    </div>
    
    <!-- Mobile Touch Controls (Hidden on desktop) -->
    <div class="touch-controls">
        <div class="touch-zone left-zone" id="touchLeft">
            <div class="touch-label">‚Üê</div>
        </div>
        <div class="touch-zone center-zone" id="touchStart">
            <div class="touch-label">‚ñ∂</div>
        </div>
        <div class="touch-zone right-zone" id="touchRight">
            <div class="touch-label">‚Üí</div>
        </div>
    </div>
    
    <!-- Virtual Joystick for Mobile -->
    <div class="virtual-joystick" id="virtualJoystick">
        <div class="joystick-base"></div>
        <div class="joystick-handle"></div>
    </div>
    
    <!-- Error Overlay -->
    <div class="error-overlay" id="errorOverlay">
        <div class="error-content">
            <h3>Device Orientation Required</h3>
            <p>Please rotate your device to landscape mode for the best experience.</p>
            <div class="orientation-icon">‚Üª</div>
        </div>
    </div>
    
    <!-- Audio -->
    <audio id="msb" src="heart_(128k).mp3" preload="auto" loop></audio>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="script3.js"></script>
</body>
</html>